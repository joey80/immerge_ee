<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

	<!--using the jQuery Form plugin http://jquery.malsup.com/form/-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>

	<script type="text/javascript">
		$(document).ready(function(){
			$('#loginForm').ajaxForm({
				dataType: 'json',
				success: function(data) {
					if (data.success) {
						alert('You are now logged in. You can add additional actions in the js script.');
					} else {
						alert('Failed with the following errors: '+data.errors.login);
					}
				}
			});
		});
	</script>
</head>
<body>
{embed="visitor_example/menu"}

<h2>Account - AJAX login</h2>

{exp:visitor:login_form id="loginForm" json="yes"}
{error:login}
Email: <input id="username" name="username" type="text" />
Password: <input id="password" name="password" type="password" />
{if auto_login}
Remember me? <input class="checkbox" name="auto_login" type="checkbox" value="1" />
{/if}
<input name="submit" type="submit" value="Log in" />
{/exp:visitor:login_form}
</body>
</html>